<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:f="http://java.sun.com/jsf/core"
  	  xmlns:p="http://primefaces.org/ui">
		
		<ui:decorate template="MasterPage.xhtml">
        <ui:define name="centro">
		
		<h:head>
			<meta charset="UTF-8"/>
			<title>Manter Motorista</title>
		</h:head>
		<body>
			<h:form id="frmMotorista">
				<p:panel header="Manter Motorista">
					<p:dataTable
						id="tbDadosmotorista"
						value="#{crtmotorista.getAll()}"
						selection="#{crtmotorista.modelMotorista}"
						selectionMode="single"
						var="vMotorista"
						rowKey="#{vMotorista.id}">
						
						<f:facet name="header">Lista de Motorista</f:facet>
						
						<p:column style="width:32px;text-align: center">
							<p:commandButton update=":form" oncomplete="PF('dlg1').show()" icon="fa-edit" title="Editar">
								<f:setPropertyActionListener value="#{vMotorista}" target="#{crtmotorista.modelMotorista}" />
							</p:commandButton>
						</p:column>
						<p:column>
							<f:facet name="header">Nome</f:facet>
							<h:outputText value="#{vMotorista.nome}" />
						</p:column>
						<p:column>
							<f:facet name="header">Telefone</f:facet>
							<h:outputText value="#{vMotorista.telefone}"/>
						</p:column>
						<p:column>
							<f:facet name="header">E-mail</f:facet>
							<h:outputText value="#{vMotorista.email}"/>
						</p:column>
						<p:column>
							<f:facet name="header">Status</f:facet>
							<h:outputText value="#{vMotorista.status.description}"/>
						</p:column>
						<p:column>
							<f:facet name="header">Admissao</f:facet>
							<h:outputText value="#{vMotorista.admissao}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</p:column>
						<p:column>
							<f:facet name="header">Demissao</f:facet>
							<h:outputText value="#{vMotorista.demissao}">
								<f:convertDateTime pattern="dd/MM/yyyy" />
							</h:outputText>
						</p:column>
											
						<f:facet name="footer">
							<p:commandButton
								id="cbIncluir"
								update=":form"
								oncomplete="PF('dlg1').show()"
								value="Incluir"
								action="#{crtmotorista.create()}"
								/>
						</f:facet>
					</p:dataTable>
				</p:panel>
			</h:form>
			
			<!--  -->
			
			<p:dialog width="500px" height="300px" id="detailDialog"
				modal="true"
				header="Detalhe do Motorista"
				widgetVar="dlg1"
				appendTo="@(body)">
				<h:form id="form">
					<h:panelGrid id="formDetail" columns="2">
					
						<h:outputLabel id="lblNome" value="Nome" />
						<p:inputText
							id="txtNome"
							label="lblNome"
							value="#{crtmotorista.modelMotorista.nome}"/>
						
						<h:outputLabel id="lblTelefone" value="Telefone" />
						<p:inputText
							id="txtTelefone"
							label="lblTelefone"
							value="#{crtmotorista.modelMotorista.telefone}"/>
							
						<h:outputLabel id="lblE-mail" value="E-mail" />
						<p:inputText
							id="txtE-mail"
							label="lblE-mail"
							value="#{crtmotorista.modelMotorista.email}"/>

						<h:outputLabel id="lblStatus" value="Status" for="cbxStatus" />
						<h:selectOneMenu label="Status" value="#{crtmotorista.modelMotorista.status}" id="cbxStatus" >
							<f:selectItems
								value="#{crtmotorista.statusList}"
								var="vStatusMotorista"
								itemLabel="#{vStatusMotorista.description}"
								itemValue="#{vStatusMotorista}"/>
						</h:selectOneMenu>
						
						<h:outputLabel id="lblAdmissao" value="Admissao" />
						<p:calendar
							id="txtAdmissao"
							label="lblAdmissao"
							value="#{crtmotorista.modelMotorista.admissao}"
							showOn="button"
							pattern="dd/MM/yyyy"
							mask="true"/>
							
						<h:outputLabel id="lblDemissao" value="Demissao" />
						<p:calendar
							id="txtDemissao"
							label="lblDemissao"
							value="#{crtmotorista.modelMotorista.demissao}"
							showOn="button"
							pattern="dd/MM/yyyy"
							mask="true"/>
							
						<f:facet name="footer">
							<p:commandButton
								value="OK"
								id="cbOK"
								action="#{crtmotorista.save()}"
								onsuccess="PF('dlg1').hide()"
								update=":frmMotorista:tbDadosmotorista"
								/>
							<p:commandButton
								value="Cancelar"
								id="cbCancelar"
								action="#{crtmotorista.create()}"
								onsuccess="PF('dlg1').hide()"
								update=":frmMotorista:tbDadosmotorista"/>	
						</f:facet>
					</h:panelGrid>
				</h:form>
			</p:dialog>
		</body>
		
		</ui:define>
		</ui:decorate>
		
</html>